<!DOCTYPE html>
<html>
<head>
    <title>W2UI Demo: layout/1</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OWL Validation</title>
    <link rel="stylesheet" type="text/css" href="css/w2ui-2.0.min.css">
    <link rel="stylesheet" href="css/backdrop.css">
    <link rel="stylesheet" href="css/all.min.css" />

    <script src="lib/rdflib.min.js"></script>
    <script src="lib/uuid.min.js"></script>
    <script src="lib/index.umd.js"></script>
    <script src="lib/cytoscape.min.js"></script>
    <script src="lib/layout-base.js"></script>
    <script src="lib/cose-base.js"></script>
    <script src="lib/cytoscape-fcose.js"></script>
    <script src="lib/cytoscape-undo-redo.js"></script>
    <script src="lib/cytoscape-expand-collapse.js"></script>
    <script src="lib/popper.js"></script>
    <script src="lib/cytoscape-popper.min.js"></script>
    <script src="lib/tippy-bundle.iife.js"></script>
    <script src="lib/w2ui-2.0.min.js"></script>
    <script src="lib/layout-base.js"></script>
    <script src="lib/cola.min.js"></script>
    <script src="lib/cytoscape-cola.js"></script>
    <!-- Dagre.js (Required for cytoscape-dagre) -->
    <script src="lib/dagre.min.js"></script>
    <!-- Cytoscape-Dagre Extension -->
    <script src="lib/cytoscape-dagre.js"></script>
    <script src="lib/i18next.min.js"></script>
    <style>
        /* colors for protege
        annotation: 209 122 9 #D17A09
        class: 209 165 0 #D1A500
        Objecttype Property :0 121 186 #0079BA
        Datatype Property: 56 161 74 #38A14A
        Datatype 173 59 69 #AD3B45
        Individuals 135 75 130 #874B82

          /* Tab styling */

        .tab-container {
            width: 100%;
            height: 50px;
            display: flex;
            border-bottom: 2px solid #ccc;
            margin-bottom: 10px;
            overflow-x: auto;
        }

        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border: 1px solid #ccc;
            border-bottom: none;
            background-color: #f4f4f4;
            margin-right: 5px;
            width: 98%;
        }

        .tab.active {
            background-color: white;
            border-top: 2px solid #007bff;
            font-weight: bold;
            width: 98%;
        }

        /* Hide non-active content */
        .tab-content {
            display: block;

        }

        .tab-content.active {
            display: block;
            width: 100%;
        }

        /* Style for select boxes */
        select {
            width: 100%;
            height: 150px;
            margin-top: 5px;
        }

        /* Hide the native file input */
        #fileInput,
        #fileInput2 {
            display: none;
        }


        #cy {
            width: 100%;
            height: 100%;
        }

        #infoPanel {
            border: 0px solid black;
            padding: 10px;
            width: 100%;
            height: 100%;
            position: absolute;
            background-color: #f9f9f9;
            overflow: auto;
            /* Enables both horizontal and vertical scrolling */
            white-space: nowrap;
            /* Prevents text from wrapping to the next line */
            word-wrap: break-word;
            /* Allows long words to break and not overflow */
            display: none;
        }

        #infoPanel h3 {
            margin-top: 0;
        }
    </style>
    <script>
        window.addEventListener('beforeunload', function (event) {
            // Cancel the event to trigger the confirmation dialog
            event.preventDefault();

            // Setting event.returnValue triggers the browser's confirmation dialog
            event.returnValue = 'Are you sure you want to leave? You may have unsaved changes.';

            // Note: The text inside event.returnValue will not be shown in modern browsers;
            // the browser will display a standard message instead.
        });
    </script>
</head>
<body>


<div id="app" style="width: 100%; height: 70vh;">
    <div id="mainLayout" style="height: calc(100% - 40px);" />
</div>
<div class="tab-container" id="tabs"></div>
<div style="height: 100px;" id="output" style="display: block;"></div>

<input type="file" name="name" id="inputfile" style="display:none" />
<input type="file" name="name" id="inputinferred    file" style="display:none" />

<script type="module">
 var mainMenu;
        var tripleTabs;
        var removed;
        // Define tab structure dynamically
        const tabsData = [
            "triples",
            "classes",
            "classEquivalence",
            "objectProperties",
            "dataProperties",
            "namedIndividuals",
            "isaRelations",
            "classSubsumption",
            "propertySubsumption",
            "propertyEquivalence",
            "propertyInverse",
            "individualRelations",
            "domains",
            "ranges"
        ];
        const resources = {
            en: {
                translation: {
                    tabs: {
                        triplesTab: "Triples",
                        classesTab: "Classes",
                        classEquivalenceTab: "Equivalence Classes",
                        objectPropertiesTab: "Obj. Properties",
                        dataPropertiesTab: "Data Properties",
                        namedIndividualsTab: "Individuals",
                        isaRelationsTab: "Individual Typing",
                        classSubsumptionTab: "Class Subsumption",
                        propertySubsumptionTab: "Property Subsumption",
                        propertyEquivalenceTab: "Property Equivalence",
                        propertyInverseTab: "Inverse Properties",
                        individualRelationsTab: "Individual Relations",
                        domainsTab: "Domains",
                        rangesTab: "Ranges",
                        triplesLabel: "Triplets trouvÃ©s",
                        classesLabel: "Found OWL Classes",
                        classEquivalenceLabel: "Equivalence classes between properties",
                        objectPropertiesLabel: "Found object properties",
                        dataPropertiesLabel: "Found datatype properties",
                        namedIndividualsLabel: "Found NamedIndividuals",
                        isaRelationsLabel: "Individuals typring Relations",
                        classSubsumptionLabel: "Classes subsumption relations",
                        propertySubsumptionLabel: "Properties subsumption relations",
                        propertyEquivalenceLabel: "Properties equivalence relations",
                        propertyInverseLabel: "Properties inverse relations",
                        individualRelationsLabel: "Relations between individuals",
                        domainsLabel: "Domain declarations",
                        rangesLabel: "Tange declarations",
                    },

                    menu: {
                        language: "Language",
                        fr: "ðŸ‡«ðŸ‡· French",
                        en: "ðŸ‡¬ðŸ‡§ English",
                        owl: "OWL File",
                        open: "Open",
                        importinferred: "Import inferred axioms as ontology",
                        expandCollapse: "Expand/Collapse",
                        nodes: "Nodes",
                        expandallnodes: "Expand All",
                        collapseAllNodes: "Collapse All",
                        expandSelectedNodes: "Expand Selected",
                        collapseSelectedNodes: "Collapse Selected",
                        expandSelectedNodesRecursively: "Expand Selected Recursively",
                        collapseSelectedNodesRecursively: "Collapse Selected Recursively",
                        edges: "Edges",
                        expandAllEdges: "Expand All",
                        collapseAllEdges: "Collapse All",
                        expandSelectedEdges: "Expand Selected",
                        collapseSelectedEdges: "Collapse Selected",
                        collapseEdgesBetweenNodes: "Reduce Between Selected Nodes",
                        expandEdgesBetweenNodes: "Expand Between Selected Nodes",
                        rendering: "Rendering",
                        renderingnodeirishortname: "Render by Entity IRI Short Name(id)",
                        noderenderinglabel: "Render by Label(RDFS Label)",
                        noderenderingprefix: "Render by prefixed name",
                        noderenderingannotation: "Render by annotation property",
                        noderenderingcustom: "Customed rendering",
                        edgeirishortName: "Render by Property IRI Short Name(id)",
                        edgerenderingprefixName: "Render by prefixed name",
                        edgerenderinglabel: "Render by Label(RDFS Label)",
                        edgerenderingannotationProperty: "Render by annotation property",
                        edgerenderingcustom: "Customed rendering",
                        label: "Label",
                        prefixName: "Prefix Name",
                        annotationProperty: "Annotation Property",
                        customRendering: "Custom Rendering",
                        display: "Display",
                        showowlconstructs: "Show OWL Constructs Nodes",
                        showisa: "Show isa as link",
                        showdomainrange: "Show domain and range as nodes",
                        showlabelasnode: "Show labels as nodes",
                        showlabelasedge: "Show labels as edges",
                        showannotationasnode: "Show annotations as nodes",
                        showannotationasedge: "Show annotations as edges",
                        viewpoint: "Viewpoints",
                        individual: "Individuals",
                        ontology: "Ontologies",
                        sop: "Subject Object Properties",
                        data: "Data",
                        layout: "Layouts",
                        fcose: "Fcose",
                        grid: "Grid",
                        circle: "Circle",
                        cose: "Cose",
                        breadthfirst: "Breadthfirst",
                        concentric: "Concentric",
                        random: "Random",
                        cola: "Cola",
                        dagre: "Dagre",
                        showhidegrabifydelete: "Actions on graph elements",
                        showhide: "Show/Hide",
                        hideselected: "Hide Selected",
                        hidenonselected: "Hide Non Selected",
                        unhideall: "Unhide All",
                        grabifyungrabify: "Grabify/Ungrabify",
                        ungrabifyselected: "Ungrabify Selected",
                        ungrabifynonselected: "Ungrabify Non Selected",
                        grabifyselected: "Grabify Selected",
                        grabifynonselect: "Grabify Non Selected",
                        lockunlock: "Lock/Unlock",
                        lockselected: "Lock Selected",
                        locknonselected: "Lock Non Selected",
                        unlockselected: "Unlock Selected",
                        unlocknonselect: "Unlock Non Select",
                        removerestore: "Remove Restore",
                        removeselected: "Remove Selected",
                        removeunselected: "Remove Unselected",
                        removeall: "Remove All",
                        restore: "Restore"
                    },
                }
            },
            fr: {
                translation: {
                    tabs: {
                        triplesTab: "Triplets",
                        classesTab: "Classes",
                        classEquivalenceTab: "Ã‰quivalence Classes",
                        objectPropertiesTab: "PropriÃ©tÃ©s Obj.",
                        dataPropertiesTab: "PropriÃ©tÃ©s DonnÃ©es",
                        namedIndividualsTab: "Individus",
                        isaRelationsTab: "Typage Individus",
                        classSubsumptionTab: "Subsomption Classes",
                        propertySubsumptionTab: "Subsomption Prop.",
                        propertyEquivalenceTab: "Ã‰quivalence Prop.",
                        propertyInverseTab: "PropriÃ©tÃ©s Inverses",
                        individualRelationsTab: "Relations Individus",
                        domainsTab: "Domaines",
                        rangesTab: "PortÃ©es",
                        triplesLabel: "Found triples",
                        classesLabel: "Classes OWL trouvÃ©es",
                        classEquivalenceLabel: "Classes d'Ã©quivalence entre propriÃ©tÃ©s",
                        objectPropertiesLabel: "PropriÃ©tÃ©s de type objet trouvÃ©es",
                        dataPropertiesLabel: "PropriÃ©tÃ©s de type donnÃ©es trouvÃ©es",
                        namedIndividualsLabel: "Individus nommÃ©s OWL trouvÃ©s",
                        isaRelationsLabel: "Relations de typage d'individus",
                        classSubsumptionLabel: "Relations de subsomption entre classes",
                        propertySubsumptionLabel: "Relations de subsomption entre propriÃ©tÃ©s",
                        propertyEquivalenceLabel: "Relations d'Ã©quivalence entre propriÃ©tÃ©s",
                        propertyInverseLabel: "Relations inverses entre propriÃ©tÃ©s",
                        individualRelationsLabel: "Relations entre individus",
                        domainsLabel: "DÃ©clarations de domaines",
                        rangesLabel: "DÃ©clarations de portÃ©es",

                    },
                    menu: {
                        language: "Langage",
                        fr: "ðŸ‡«ðŸ‡· FranÃ§ais",
                        en: "ðŸ‡¬ðŸ‡§ English",
                        owl: "Fichier OWL",
                        open: "Ouvrir",
                        importinferred: "Import des axiomes infÃ©rrÃ© de l'ontologie",
                        expandCollapse: "DÃ©velopper/RÃ©duire",
                        nodes: "NÅ“uds",
                        expandAllNodes: "Tout dÃ©velopper",
                        collapseAllNodes: "Tout rÃ©duire",
                        expandSelectedNodes: "DÃ©velopper sÃ©lectionnÃ©s",
                        collapseSelectedNodes: "RÃ©duire sÃ©lectionnÃ©s",
                        expandSelectedNodesRecursively: "DÃ©velopper sÃ©lectionnÃ©s rÃ©cursivement",
                        collapseSelectedNodesRecursively: "RÃ©duire sÃ©lectionnÃ©s rÃ©cursivement",
                        edges: "ArÃªtes",
                        expandAllEdges: "Tout dÃ©velopper",
                        collapseAllEdges: "Tout rÃ©duire",
                        expandSelectedEdges: "DÃ©velopper sÃ©lectionnÃ©s",
                        collapseSelectedEdges: "RÃ©duire sÃ©lectionnÃ©s",
                        collapseEdgesBetweenNodes: "RÃ©duire entre les noeuds sÃ©lectionnÃ©s",
                        expandEdgesBetweenNodes: "DÃ©velopper entre les noeuds sÃ©lectionnÃ©s",
                        rendering: "Rendu",
                        renderingnodeirishortname: "Nom court IRI",
                        label: "Ã‰tiquette",
                        prefixName: "Nom du prÃ©fixe",
                        annotationProperty: "PropriÃ©tÃ© dâ€™annotation",
                        customRendering: "Rendu personnalisÃ©",
                        display: "Affichage",
                        showowlconstructs: "... des nÅ“uds OWL",
                        showisa: "... de 'isa' comme lien",
                        showdomainrange: "... des domaines et portÃ©es comme nÅ“uds",
                        showlabelasnode: "... des labels comme noeuds",
                        showlabelasedge: "... des labels comme liens",
                        showannotationasnode: "... des annotations comme noeuds",
                        showannotationasedge: "... des annotations comme liens",
                        viewpoint: "Points de vue",
                        individual: "Individus",
                        ontology: "Ontologies",
                        sop: "PropriÃ©tÃ©s sujet-objet",
                        data: "DonnÃ©es",
                        layout: "Mises en page",
                        fcose: "Fcose",
                        grid: "Grille",
                        circle: "Cercle",
                        cose: "Cose",
                        breadthfirst: "Parcours en largeur",
                        concentric: "Concentrique",
                        random: "AlÃ©atoire",
                        cola: "Cola",
                        dagre: "Dagre",
                        showhidegrabifydelete: "Actions sur Ã©lÃ©ments du graphe",
                        showhide: "Montrer/Cacher",
                        hideselected: "Cacher les sÃ©lectionnÃ©s",
                        hidenonselected: "Cacher les non sÃ©lectionnÃ©s",
                        unhideall: "RÃ©vÃ©ler tout",
                        grabifyungrabify: "Activer/DÃ©sactiver la prise",
                        ungrabifyselected: "LibÃ©rer la sÃ©lection",
                        ungrabifynonselected: "LibÃ©rer les non sÃ©lectionnÃ©s",
                        grabifyselected: "Prendre la sÃ©lection",
                        grabifynonselect: "Prendre les non sÃ©lectionnÃ©s",
                        lockunlock: "Verrouiller/DÃ©verrouiller",
                        lockselected: "Verrouiller la sÃ©lection",
                        locknonselected: "Verrouiller les non sÃ©lectionnÃ©s",
                        unlockselected: "DÃ©verrouiller la sÃ©lection",
                        unlocknonselect: "DÃ©verrouiller les non sÃ©lectionnÃ©s",
                        removerestore: "Supprimer/Restaurer",
                        removeselected: "Supprimer la sÃ©lection",
                        removeunselected: "Supprimer les non sÃ©lectionnÃ©s",
                        removeall: "Tout supprimer",
                        restore: "Restaurer",
                        rendering: "Rendu",
                        renderingnodeirishortname: "Rendu par Nom Court de l'IRI de l'EntitÃ© (id)",
                        noderenderinglabel: "Rendu par LibellÃ© (RDFS Label)",
                        noderenderingprefix: "Rendu par Nom PrÃ©fixÃ©",
                        noderenderingannotation: "Rendu par PropriÃ©tÃ© d'Annotation",
                        noderenderingcustom: "Rendu PersonnalisÃ©",
                        edgeirishortName: "Rendu par Nom Court de l'IRI de la PropriÃ©tÃ© (id)",
                        edgerenderingprefixName: "Rendu par Nom PrÃ©fixÃ©",
                        edgerenderinglabel: "Rendu par LibellÃ© (RDFS Label)",
                        edgerenderingannotationProperty: "Rendu par PropriÃ©tÃ© d'Annotation",
                        edgerenderingcustom: "Rendu PersonnalisÃ©"
                    }
                }
            }
        };

        i18next.init({
            lng: "fr", // Default language
            fallbackLng: "en", // Fallback language
            resources: resources // Use in-memory translations
        })
        function changeLanguage(lang) {
            i18next.changeLanguage(lang, () => {
                updateToolbarTranslations();
                updateTabsTranslations();
            });
        }

        const outputDiv = document.getElementById("output");

        if (outputDiv) {
            tabsData.forEach(key => {
                const tabDiv = document.createElement("div");
                tabDiv.id = `${key}Tab`;
                tabDiv.className = "tab-content";

                const label = document.createElement("label");
                label.htmlFor = `${key}Select`;
                label.textContent = i18next.t(`tabs.${key}Label`) + " :";

                const select = document.createElement("select");
                select.id = `${key}Select`;
                select.size = 10;
                select.multiple = true;

                tabDiv.appendChild(label);
                tabDiv.appendChild(select);
                outputDiv.appendChild(tabDiv);
            });
        } else {
            console.error("L'Ã©lÃ©ment #output n'existe pas dans le DOM !");
        }



let pstyle = 'border: 1px solid #efefef; padding: 5px'
new w2layout({
    box: '#mainLayout',
    name: 'layout',
    panels: [
        { type: 'top', size: 50, style: pstyle, html: 'top' },
        { type: 'left', size: 200, style: pstyle, html: 'left' },
        { type: 'main', style: pstyle, html: 'main' }
    ]
})
</script>

</body>
</html>